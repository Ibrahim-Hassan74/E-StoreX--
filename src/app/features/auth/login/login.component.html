<div
  class="flex min-h-full flex-col justify-center px-6 py-12 lg:px-8
         bg-gray-50 dark:bg-gray-900 transition-colors duration-300"
>
  <div class="sm:mx-auto sm:w-full sm:max-w-sm text-center">
    <div
      class="flex justify-center items-center gap-2
             text-2xl font-semibold text-gray-900 dark:text-white"
    >
      <lucide-icon name="User" class="text-[#029fae]" [size]="32"></lucide-icon>
      <span>Sign in to your account</span>
    </div>
  </div>

  <div class="mt-10 sm:mx-auto sm:w-full sm:max-w-sm">
    <div
      class="bg-white dark:bg-gray-800 rounded-xl
             shadow-lg ring-1 ring-gray-200 dark:ring-gray-700
             px-6 py-8"
    >
      <form
        [formGroup]="loginForm"
        (ngSubmit)="onSubmit()"
        class="space-y-5"
      >
        <!-- Error Alert -->
        @if (errorMessage()) {
          <div
            class="rounded-md bg-red-50 dark:bg-red-900/20
                   p-4 border border-red-200 dark:border-red-800"
          >
            <p class="text-sm text-red-800 dark:text-red-200">
              {{ errorMessage() }}
            </p>
          </div>
        }

        <!-- Resend Success -->
        @if (resendSuccessMessage()) {
          <div
            class="rounded-md bg-green-50 dark:bg-green-900/20
                   p-4 border border-green-200 dark:border-green-800"
          >
            <p class="text-sm text-green-800 dark:text-green-200">
              {{ resendSuccessMessage() }}
            </p>
          </div>
        }

        <!-- Resend Confirmation -->
        @if (showResendConfirmation()) {
          <button
            type="button"
            (click)="onResendConfirmation()"
            class="w-full text-sm font-medium text-[#029fae]
                   hover:text-[#028b99] cursor-pointer"
          >
            Resend confirmation email
          </button>
        }

        <!-- Email -->
        <div>
          <label class="block text-sm font-medium text-gray-900 dark:text-gray-200 mb-2">
            Email address
          </label>
          <input
            type="email"
            formControlName="email"
            class="input"
            [ngClass]="{
              'ring-red-500':
                hasError('email','required') ||
                hasError('email','email')
            }"
          />
          @if (hasError('email','required')) {
            <p class="error-text">Email is required.</p>
          }
          @if (hasError('email','email')) {
            <p class="error-text">Enter a valid email address.</p>
          }
        </div>

        <!-- Password -->
        <div>
          <div class="flex items-center justify-between">
            <label class="block text-sm font-medium text-gray-900 dark:text-gray-200 mb-2">
              Password
            </label>
            <a
              routerLink="/auth/forgot-password"
              class="text-sm font-semibold text-[#029fae] hover:text-[#028b99] mb-2"
            >
              Forgot password?
            </a>
          </div>

          <input
            type="password"
            formControlName="password"
            class="input"
            [ngClass]="{ 'ring-red-500': hasError('password','required') }"
          />
          @if (hasError('password','required')) {
            <p class="error-text">Password is required.</p>
          }
        </div>

        <!-- Remember Me -->
        <div class="flex items-center">
          <input
          id="rememberMe"
            type="checkbox"
            formControlName="rememberMe"
            class="h-4 w-4 rounded border-gray-300
                   text-[#029fae] focus:ring-[#029fae]
                   dark:border-gray-600 dark:bg-gray-700"
          />
          <label for="rememberMe" class="ml-2 text-sm text-gray-900 dark:text-gray-200">
            Remember me
          </label>
        </div>

        <!-- Submit -->
        <button
          type="submit"
          [disabled]="loginForm.invalid || isLoading()"
          class="flex w-full justify-center items-center gap-2
                 rounded-md bg-[#029fae]
                 px-3 py-2 text-sm font-semibold text-white
                 shadow-md hover:shadow-lg
                 hover:bg-[#028b99]
                 transition-all disabled:opacity-50"
        >
          @if (isLoading()) {
            <lucide-icon name="Loader2" class="animate-spin" [size]="18"></lucide-icon>
            Signing in...
          } @else {
            Sign in
          }
        </button>

        <!-- External Login -->
        <div class="relative mt-6">
          <div class="absolute inset-0 flex items-center" aria-hidden="true">
            <div class="w-full border-t border-gray-300 dark:border-gray-600"></div>
          </div>
          <div class="relative flex justify-center">
            <span class="bg-white dark:bg-gray-800 px-2 text-sm text-gray-500 dark:text-gray-400">
              Or continue with
            </span>
          </div>
        </div>

<div class="mt-6 space-y-3">
  <!-- Google -->
  <button
    type="button"
    (click)="loginWithGoogle()"
    [disabled]="isLoading()"
    class="flex w-full items-center justify-center gap-3
           rounded-md bg-white dark:bg-gray-800
           px-4 py-2.5 text-sm font-semibold
           text-gray-700 dark:text-gray-200
           shadow-sm ring-1 ring-inset
           ring-gray-300 dark:ring-gray-700
           hover:bg-gray-50 dark:hover:bg-gray-700
           transition-all disabled:opacity-50"
  >
    <!-- Google Icon (multi-color feel) -->
    <svg
      class="h-5 w-5"
      viewBox="0 0 533.5 544.3"
      aria-hidden="true"
    >
      <path
        fill="#4285F4"
        d="M533.5 278.4c0-18.7-1.5-37-4.7-54.7H272v103.5h147.3c-6.4 34.6-25.8 63.9-55 83.5v69.1h88.8c52-47.9 80.4-118.5 80.4-201.4z"
      />
      <path
        fill="#34A853"
        d="M272 544.3c74.3 0 136.6-24.5 182.2-66.5l-88.8-69.1c-24.6 16.6-56.1 26.2-93.4 26.2-71.8 0-132.6-48.5-154.3-113.6H26.3v71.5C71.7 475.5 166.7 544.3 272 544.3z"
      />
      <path
        fill="#FBBC05"
        d="M117.7 321.3c-10.4-30.6-10.4-63.9 0-94.5v-71.5H26.3c-43.7 86.7-43.7 189.8 0 276.5l91.4-71.5z"
      />
      <path
        fill="#EA4335"
        d="M272 109.7c39.6-.6 77.8 14 106.7 40.7l79.6-79.6C411.7 24.1 348.8-1.3 272 0 166.7 0 71.7 68.8 26.3 155.3l91.4 71.5C139.4 158.2 200.2 109.7 272 109.7z"
      />
    </svg>

    <span>Continue with Google</span>
  </button>

  <!-- GitHub -->
  <button
    type="button"
    (click)="loginWithGitHub()"
    [disabled]="isLoading()"
    class="flex w-full items-center justify-center gap-3
           rounded-md bg-[#24292F]
           px-4 py-2.5 text-sm font-semibold text-white
           shadow-sm hover:bg-[#24292F]/90
           dark:hover:bg-[#24292F]/80
           transition-all disabled:opacity-50"
  >
    <lucide-icon name="Github" [size]="20"></lucide-icon>
    <span>Continue with GitHub</span>
  </button>
</div>

      </form>
    </div>

    <p class="mt-10 text-center text-sm text-gray-500 dark:text-gray-400">
      Not a member?
      <a
        routerLink="/auth/register"
        class="font-semibold text-[#029fae] hover:text-[#028b99]"
      >
        create account
      </a>
    </p>
  </div>
</div>
